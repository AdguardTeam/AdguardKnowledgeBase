---
title: 'Как работает уникальный протокол AdGuard VPN'
taxonomy:
    category:
        - docs
---

*   [Зачем мы разработали протокол AdGuard VPN](#reasons) 
*   [Минусы популярных VPN-протоколов](#vpn-drawbacks)
*   [Чем хорош протокол AdGuard VPN](#adguard-vpn-protocol)

<a id="reasons"></a>
Годами мы концентрировались на разработке блокировщика AdGuard во всех возможных проявлениях: приложения, браузерные расширения, DNS. И вот в 2019 году мы, внезапно для многих, приняли решение разработать собственный VPN-сервис. И на это было несколько причин.

* У наших мобильных приложений были <abbr data-title="Обычно два VPN-приложения не могут работать вместе: на iOS это возможно в редких случаях. Так как блокировщики AdGuard для мобильных платформ вынуждены использовать локальный VPN, чтобы фильтровать сетевой трафик, параллельная работа с любым VPN была за пределами возможного.">проблемы совместимости</abbr> с другими приложениями на основе VPN. Вот почему разработка собственного VPN виделась нам единственно возможным решением, гарантирующим совместимость: применив немного магии, мы добились того, что два приложения AdGuard могут работать в рамках одного VPN-туннеля.
* Идея собственного VPN-сервиса прекрасно <abbr data-title="Наша главная цель — это защита личных данных пользователей, а VPN — это технология, направленная на защиту конфиденциальности.">соотносится</abbr> с нашей философией и принципами. 
* За годы работы над AdGuard мы стали экспертами в области фильтрации сетевого трафика. Это позволило нам предложить пользователям что-то новое, а не просто стать очередным безликим VPN.

С самого начала мы решили, что у AdGuard VPN будет одно важное отличие от конкурентов — мы будем использовать собственный VPN-протокол, который не заставит пользователей выбирать между безопасностью и скоростью.

<a id="vpn-drawbacks"></a>
## Минусы популярных VPN-протоколов

Мы разработали протокол AdGuard VPN, видя недостатки популярных VPN-протоколов (OpenVPN, WireGuard, IPSec и пр.):

* Их легко обнаружить и заблокировать на сетевом уровне.
* При попытке их «скрыть» падает производительность.

Чтобы «скрыть» использование VPN, чаще всего поток данных «заворачивают» в TCP-соединение, а иногда дополнительно шифруют, чтобы сделать трафик похожим на соединение с обычным сайтом. К сожалению, у такого подхода есть проблема – из-за использования TCP появляется необходимость в дополнительном подтверждении доставки.

<object data="https://cdn.adguard.com/public/Adguard/Blog/vpn/protocol/6-ru.svg" type="image/svg+xml">
    <img src="https://cdn.adguard.com/public/Adguard/Blog/vpn/protocol/6-ru.svg"></object>

Таким образом, используя любой из популярных VPN-протоколов, мы всегда встаём перед выбором: быстро и легко обнаружимо vs. медленно.

<a id="adguard-vpn-protocol"></a>
## Чем хорош протокол AdGuard VPN

<object data="https://cdn.adguard.com/public/Adguard/Blog/vpn/protocol/5-ru.svg" type="image/svg+xml">
    <img src="https://cdn.adguard.com/public/Adguard/Blog/vpn/protocol/5-ru.svg"></object>

* Его *практически невозможно отличить от обычного HTTPS-трафика*, то есть соединение с сервером AdGuard VPN выглядит так же, как и соединение с обычным сайтом.
* Для шифрования мы используем **HTTPS (TLS)**, который идеально справляется с этой задачей. Это самый популярный в мире способ шифрования, а библиотеки, которые его реализуют, постоянно проходят аудит безопасности.

Существующие VPN-протоколы также справляются с задачей шифрования, и их (а значит, и факт использования VPN) тяжело обнаружить. Но обычно за это приходится платить сниженной скоростью. В нашем случае это не так, благодаря нескольким решениям.

* Мы используем транспортный протокол HTTP/2, который делает так, чтобы протокол AdGuard VPN было *практически невозможно обнаружить*, и при этом сохраняется *высокая скорость*.
* Протокол AdGuard VPN, в отличие от остальных, *оперирует не пакетами, а данными*. Это означает, что для каждого соединения AdGuard VPN устанавливает отдельный "туннель", каждому HTTP/2 stream соответствует одно соединение. По этому туннелю AdGuard VPN передает данные. Это позволяет нам *ускорить работу* за счет экономии на подтверждающих пакетах, ведь мы можем объединить данные нескольких пакетов в один перед отправкой на VPN-сервер (или с сервера на клиент). А чем меньше пакетов, тем меньше подтверждений нужно.
    
<object data="https://cdn.adguard.com/public/Adguard/Blog/vpn/protocol/compare-5-6-ru.svg" type="image/svg+xml">
    <img src="https://cdn.adguard.com/public/Adguard/Blog/vpn/protocol/compare-5-6-ru.svg"></object>


> Наш протокол добавлен во [все мобильные и десктопные приложения AdGuard VPN](https://adguard-vpn.com/ru/welcome.html). Скачайте любой продукт (или несколько!) уже сейчас и пользуйтесь, зная, что ваши данные защищены самым надёжным образом. 