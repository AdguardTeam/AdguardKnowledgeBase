---
title: How to automate AdGuard for Android
taxonomy:
    category:
        - docs
---

Many people choose Android because they like having the ability to customize things and want to control their device completely. And it's totally normal if some of AdGuard users are not satisfied with its default behavior. Let's say, you want protection to stop when a certain app is launched, and then restart it again when the app is closed. This is a job for a tasker app.

## AdGuard interface

There are a lot of tasker apps out there, for example [Tasker](https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm&noprocess), [AutomateIt](https://play.google.com/store/apps/details?id=AutomateIt.mainPackage&noprocess) etc. AdGuard provides an interface that allows these apps to setup various automation rules.

![](adg_automation.png?cropResize=360,640)

Thanks to this interface, any app can send a special message (called "intent") that contains the name of the action and some additional data, if needed. AdGuard will look at this intent and perform the required actions.

### Security concerns

Wouldn't it be a bit dangerous, you might ask — to let some random apps manage what AdGuard does? It would, and that's why a password is sent along with the intent. This password will be generated by AdGuard automatically, but you can, of course, change it at any tyme.

### Available actions

So, ready to get your hands dirty? Here are actions that, when included in the intent, will be understood by AdGuard:

<a name="action_start"></a>

`start` — starts the protection, no extra data is needed;

<a name="action_stop"></a>

`stop` — stops the protection, no extra data required;

<a name="action_pause"></a>

`pause` — pauses the protection. The difference between this and `stop` is that a notification will appear that restarts the protection when you tap on it. No extra data required;

<a name="action_update"></a>

`update` — checks for available filter and app updates, no additional data is needed;

-----

<a name="action_dns_filtering"></a>

`dns_filtering` — turns [DNS filtering](https://kb.adguard.com/en/general/dns-filtering-android) on and off. Requires an extra flag:

`enable:true` or `enable:false` — enables or disables DNS filtering, accordingly.
    
-----

<a name="action_dns_server"></a>

`dns_server` — switches between DNS servers, you need to include additional data:

 `server:adguard dns` — switches to AdGuard DNS server;
     
>NOTE: the full list of supported provider names can be found inside AdGuard DNS settings under the "Custom DNS settings"
        
 `server:custom` — switches to the previously added server named `custom`;     
     
 `server:tls://dns.adguard.com` — creates a new server and switches to it if the previously added servers and providers don't contain a server with the same address. Otherwise, it switches to the respective server. You can add server addresses as IP ( regular DNS), `sdns://…` (DNSCrypt or DNS-over-HTTPS), `https://…` (DNS-over-HTTPS) or  `tls://...` (DNS-over-TLS);
 
 `server:1.1.1.1, tls://1.1.1.1` — creates a server with comma separated addresses and switches to it. When adding a server via `server:1.1.1.1, tls://1.1.1.1`, the previously added server is removed. 
     
 `server:system` — resets DNS settings to default system DNS servers.
     
 -----

<a name="action_outbound_proxy"></a>

`proxy_state` – enables/disables the outbound proxy.  Requires an extra flag:

`enable:true` or `enable:false` — activates or disactivates the outbound proxy, accordingly.

-----

<a name="action_proxy_server"></a>

`proxy_default` – sets the proxy from the list of previously added ones as default. You need to include additional data:

`server:[name]` – where `[name]` is the name of the outbound proxy from the list.

-----

**Don't forget to include the password as an extra and mention package name and class! You need to do so for every intent!**

Extra: `password:*******`

Package name: `com.adguard.android`

Class: `com.adguard.android.receivers.AutomationReceiver`

### Example

![](automation.png?cropResize=324,1023)
